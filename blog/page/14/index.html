
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RockPaperScissors</title>
  <meta name="author" content="Morgan Prior">

  
  <meta name="description" content="rspec is a testing framework designed to make test-driven development enjoyable and productive. On the recent release of RubyIt I wanted to improve &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://morganp.github.io/blog/page/14">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="RockPaperScissors" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47010631-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RockPaperScissors</a></h1>
  
    <h2>LizardSpock</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:morganp.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Latest</a></li>
  <li><a href="/blog/archives">All</a></li>
  <li><a href="/tag">Tags</a></li>
  <li><a href="/license">License</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/rspec-testing-exceptions/">Rspec Testing Exceptions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-20T15:24:34+01:00" pubdate data-updated="true">May 20<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/rspec-testing-exceptions/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/rspec-testing-exceptions/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://rspec.info/">rspec</a> is a testing framework designed to make test-driven development enjoyable and productive. On the recent release of <a href="http://morganp.github.com/RubyIt/">RubyIt</a> I wanted to improve the error reporting and cover this new functionality with tests.</p>

<p>Do not forget errors should be output to standard error not standard out, ie:</p>

<pre><code>$stderr.puts 'Error Message'
</code></pre>

<p>The rspec documentation has section on <a href="http://rspec.rubyforge.org/rspec/1.2.9/classes/Spec/Matchers.html#M000176">error testing</a>. This is my format of my current tests:</p>

<pre><code>describe Bowling, "#score" do
  it "returns 0 for all gutter game" do
    bowling = Bowling.new
    error1 = %{The error message}
    $stderr.should_receive(:puts).with( error1 ) 
    lambda { bowling.broken_method }.should raise_error(NameError)
  end
end
</code></pre>

<p>The <code>$stderr.should_receive</code> as well as setting up a test suppress the stderr outputting so that the output from the command line regression is clean.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/rspec-testing-exceptions-old-post/">Rspec Testing Exceptions (Old Post)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-20T14:57:39+01:00" pubdate data-updated="true">May 20<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/rspec-testing-exceptions-old-post/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/rspec-testing-exceptions-old-post/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://amaras-tech.co.uk/article/166">Correct Post</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/ruby-special-exception-variables-made-mnemonic/">Ruby Special Exception Variables Made Mnemonic</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-19T14:56:56+01:00" pubdate data-updated="true">May 19<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/ruby-special-exception-variables-made-mnemonic/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/ruby-special-exception-variables-made-mnemonic/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In ruby you can catch StandardErrors using begin rescue end</p>

<pre><code>begin
  #Some thing which might fails
rescue
  $stderr.puts $!
end
</code></pre>

<p>We can add a mnemonic variable name to the captured error using :</p>

<pre><code>begin
  #Some thing which might fails
rescue =&gt; error
  $stderr.puts error
end
</code></pre>

<p>Other <a href="http://ruby.wikia.com/wiki/Special_variable">Special Ruby Variables</a>. I am not sure on the completeness of that list so <a href="http://ruby.runpaint.org/globals">here is another</a> and <a href="http://www.zenspider.com/Languages/Ruby/QuickRef.html#pre-defined-variables">another</a>.</p>

<p>For more on Ruby error handling I would recommend <a href="http://exceptionalruby.com">Avdi Grimms book Exceptional Ruby</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/handle-www-and-no-www-for-better-google-juice/">Handle Www. And No-www for Better Google Juice</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-18T23:00:39+01:00" pubdate data-updated="true">May 18<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/handle-www-and-no-www-for-better-google-juice/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/handle-www-and-no-www-for-better-google-juice/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There was an interesting post on hacker news recently, <a href="http://blog.safeshepherd.com/post/23218902229/google-just-nerfed-us-a-venture-backed-startup">safeshepherd suddenly fell off the google</a> for their own name. The <a href="http://news.ycombinator.com/item?id=3987935">comments</a> had some good answers especially the first by a google employee.</p>

<p>The gist of it is that if you have <a href="https://">https://</a> and <a href="http://">http://</a> and www.domain.com and domain.com google sees 4 versions of you site. It will pick one of them as the main site each time it ranks your site. This can change every, effecting the ranking, as it looks like duplicated content.</p>

<p>For Sinatra there is a nice bit of middle were called <a href="https://github.com/logicaltext/rack-no-www">rack-no-www</a> which adds the redirect for you.</p>

<p>Add to you gem file</p>

<pre><code>gem  "rack-no-www",  "~&gt; 0.0.2", :require =&gt; 'rack/no-www'
</code></pre>

<p>Or just <code>gem install rack-no-www</code></p>

<p>Usage in a basic Sinatra App (app.rb)</p>

<pre><code>require 'sinatra'
require 'rack/no-www'

use Rack::NoWWW

get '/' do
  'Helloworld'
end
</code></pre>

<p>Run with <code>ruby app.rb</code> With web browser view localhost:4567. If that is working then you should find www.localhost:4567 redirects back to localhost:4567</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/big-monitor-litmus-test/">Big Monitor Litmus Test</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-18T07:09:21+01:00" pubdate data-updated="true">May 18<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/big-monitor-litmus-test/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/big-monitor-litmus-test/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A <a href="http://sef.kloninger.com/2012/05/engineering-culture-litmus-tests/">recent article by sef</a> about how to judge an engineering companies respect engineers and the strength of the engineering culture, used the size of the monitors as a litmus test. This is actually one of the things I pay attention to when getting shown around a potential new company. Do they invest in hardware that lets you work more efficiently.</p>

<p>I ended up moving from a company that gave me 2 17&#8221; monitors to one that supplied 2 24&#8221; monitors. Many other things were taken into consideration but it was a very good indicator of how well the engineering staff were treated.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/ipad-3-tethering/">iPad 3 Tethering</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-14T11:37:04+01:00" pubdate data-updated="true">May 14<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/ipad-3-tethering/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/ipad-3-tethering/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Three now have tethering available for the iPad 3, which can be <a href="http://blog.three.co.uk/2012/03/16/the-new-ipad-now-available-on-three/">read in the comments by moderators</a> on the official post.</p>

<p>Three have many <a href="http://www.three.co.uk/Store/Mobile_Broadband/iPad/The_new_iPad">pricing</a> strategies available but what is the full cost over the contract term? For analysis I have assumed that pay monthly contracts would also be kept for the full 24 months.</p>

<table>
<thead>
<tr>
<th></th>
<th align="center"> iPad Storage </th>
<th align="center"> Upfront Cost </th>
<th align="center"> Monthly Cost </th>
<th align="center"> Data per month </th>
<th align="center"> Total Cost </th>
<th align="left"> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> 16GB </td>
<td align="center"> £479 </td>
<td align="center"> £7.50  </td>
<td align="center">  1GB </td>
<td align="center"> £659 </td>
<td align="left"> upfront £20 cheaper than direct from apple |</td>
</tr>
<tr>
<td></td>
<td align="center"> 16GB </td>
<td align="center"> £479 </td>
<td align="center"> £15    </td>
<td align="center"> 10GB </td>
<td align="center"> £839 </td>
<td align="left"> |</td>
</tr>
<tr>
<td></td>
<td align="center"> 16GB </td>
<td align="center"> £159 </td>
<td align="center"> £25    </td>
<td align="center"> 15GB </td>
<td align="center"> £759 </td>
<td align="left"> Save £320 upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 16GB </td>
<td align="center"> £99  </td>
<td align="center"> £29    </td>
<td align="center"> 15GB </td>
<td align="center"> £795 </td>
<td align="left"> Save £60 extra upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 16GB </td>
<td align="center"> £399 </td>
<td align="center"> £18.99 </td>
<td align="center"> 15GB </td>
<td align="center"> £854 </td>
<td align="left"> iPad (WiFi) + MiFi |</td>
</tr>
</tbody>
</table>


<table>
<thead>
<tr>
<th></th>
<th align="center"> iPad Storage </th>
<th align="center"> Upfront Cost </th>
<th align="center"> Monthly Cost </th>
<th align="center"> Data per month </th>
<th align="center"> Total Cost </th>
<th align="left"> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> 32GB </td>
<td align="center"> £549 </td>
<td align="center"> £7.50  </td>
<td align="center">  1GB </td>
<td align="center"> £729 </td>
<td align="left"> upfront £30 cheaper than direct from apple |</td>
</tr>
<tr>
<td></td>
<td align="center"> 32GB </td>
<td align="center"> £549 </td>
<td align="center"> £15    </td>
<td align="center"> 10GB </td>
<td align="center"> £909 </td>
<td align="left"> |</td>
</tr>
<tr>
<td></td>
<td align="center"> 32GB </td>
<td align="center"> £229 </td>
<td align="center"> £25    </td>
<td align="center"> 15GB </td>
<td align="center"> £829 </td>
<td align="left"> Save £320 upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 32GB </td>
<td align="center"> £169 </td>
<td align="center"> £29    </td>
<td align="center"> 15GB </td>
<td align="center"> £865 </td>
<td align="left"> Save £60 extra upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 32GB </td>
<td align="center"> £479 </td>
<td align="center"> £18.99 </td>
<td align="center"> 15GB </td>
<td align="center"> £934.76 </td>
<td align="left"> iPad (WiFi) + MiFi |</td>
</tr>
</tbody>
</table>


<table>
<thead>
<tr>
<th></th>
<th align="center"> iPad Storage </th>
<th align="center"> Upfront Cost </th>
<th align="center"> Monthly Cost </th>
<th align="center"> Data per month </th>
<th align="center"> Total Cost </th>
<th align="left"> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> 64GB </td>
<td align="center"> £629 </td>
<td align="center"> £7.50  </td>
<td align="center">  1GB </td>
<td align="center"> £809 </td>
<td align="left"> upfront £30 cheaper than direct from apple |</td>
</tr>
<tr>
<td></td>
<td align="center"> 64GB </td>
<td align="center"> £629 </td>
<td align="center"> £15    </td>
<td align="center"> 10GB </td>
<td align="center"> £989 </td>
<td align="left"> |</td>
</tr>
<tr>
<td></td>
<td align="center"> 64GB </td>
<td align="center"> £299 </td>
<td align="center"> £25    </td>
<td align="center"> 15GB </td>
<td align="center"> £899 </td>
<td align="left"> Save £330 upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 64GB </td>
<td align="center"> £249 </td>
<td align="center"> £29    </td>
<td align="center"> 15GB </td>
<td align="center"> £945 </td>
<td align="left"> Save £50 extra upfront |</td>
</tr>
<tr>
<td></td>
<td align="center"> 64GB </td>
<td align="center"> £559 </td>
<td align="center"> £18.99 </td>
<td align="center"> 15GB </td>
<td align="center"> £1014.76 </td>
<td align="left"> iPad (WiFi) + MiFi |</td>
</tr>
</tbody>
</table>


<p><a href="http://shop.orange.co.uk/ipad/">Orange</a>, <a href="">Vodafone</a> and <a href="">O2</a> Prices:</p>

<table>
<thead>
<tr>
<th></th>
<th align="center"> Service Provider </th>
<th align="center"> Size </th>
<th align="center"> Upfront Cost </th>
<th align="center"> Monthly Cost </th>
<th align="center"> Data per month </th>
<th align="center"> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> Orange </td>
<td align="center"> 16GB </td>
<td align="center"> £139 </td>
<td align="center"> £25 </td>
<td align="center"> 2GB </td>
<td align="center"> <em>Ipad 2</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Orange </td>
<td align="center"> 32GB </td>
<td align="center"> £249 </td>
<td align="center"> £25 </td>
<td align="center"> 2GB </td>
<td align="center"> <em>Ipad 2</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Orange </td>
<td align="center"> 64GB </td>
<td align="center"> £349 </td>
<td align="center"> £25 </td>
<td align="center"> 2GB </td>
<td align="center"> <em>Ipad 2</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Orange </td>
<td align="center"> NA   </td>
<td align="center"> NA   </td>
<td align="center"> £10 </td>
<td align="center"> 2GB </td>
<td align="center"> Monthly Rolling data only |</td>
</tr>
</tbody>
</table>


<table>
<thead>
<tr>
<th></th>
<th align="center"> Service Provider </th>
<th align="center"> Size </th>
<th align="center"> Upfront Cost </th>
<th align="center"> Monthly Cost </th>
<th align="center"> Data per month </th>
<th align="center"> Comment </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 16GB </td>
<td align="center"> £199 </td>
<td align="center"> £27  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 16GB </td>
<td align="center"> £499 </td>
<td align="center"> £15  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 16GB </td>
<td align="center"> £499 </td>
<td align="center"> £7.5 </td>
<td align="center"> 0.5GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 32GB </td>
<td align="center"> £275 </td>
<td align="center"> £27  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 32GB </td>
<td align="center"> £569 </td>
<td align="center"> £15  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 32GB </td>
<td align="center"> £569 </td>
<td align="center"> £7.5 </td>
<td align="center"> 0.5GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 64GB </td>
<td align="center"> £345 </td>
<td align="center"> £27  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 64GB </td>
<td align="center"> £645 </td>
<td align="center"> £15  </td>
<td align="center">    2GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
<tr>
<td></td>
<td align="center"> Vodafone </td>
<td align="center"> 64GB </td>
<td align="center"> £645 </td>
<td align="center"> £7.5 </td>
<td align="center"> 0.5GB </td>
<td align="center"> <em>£15 per extra GB</em> |</td>
</tr>
</tbody>
</table>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/vim-terminal-colours/">Vim Terminal Colours</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-11T19:55:25+01:00" pubdate data-updated="true">May 11<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/vim-terminal-colours/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/vim-terminal-colours/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I use the <a href="http://blog.infinitered.com/entries/show/8">ir_black</a> for vim (<a href="http://code.google.com/p/macvim/">MacVim</a> mainly). Recently have been doing a lot of work in the terminal over ssh and have constantly been having to switch colouscheme to dessert, just to see the text properly.</p>

<pre><code>:colorscheme desert
</code></pre>

<p>The vimrc Which I had copied from some one else used:</p>

<pre><code>" 8 Colours Modified to 16 Colors
if &amp;term =~ "xterm"
  if has("terminfo")
    set t_Co=16
    set t_Sf=^[[3%pl%dm
    set t_Sb=^[[4%pl%dm
  else
    set t_Co=16
    set t_Sf=^[[3%dm
    set t_Sb=^[[4%dm
  endif
endif
</code></pre>

<p>It turns out that if I had realised this came from: <code>:help xterm-color</code> and read it. For 16 colours it recommends:</p>

<pre><code>" 16 Colours
if &amp;term =~ "xterm"
  if has("terminfo")
    set t_Co=16
    set t_AB=%?%p1%{8}%&lt;%t%p1%{40}%+%e%p1%{92}%+%;%dm
    set t_AF=%?%p1%{8}%&lt;%t%p1%{30}%+%e%p1%{82}%+%;%dm
  else
    set t_Co=16
    set t_Sf=%dm
    set t_Sb=%dm
  endif
endif
</code></pre>

<p>Which is now working well. It also recommends some things for 256 colour but that just filled my terminal with Color escape codes.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/using-github-behind-a-restrictive-firewall/">Using Github Behind a Restrictive Firewall</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-10T20:24:08+01:00" pubdate data-updated="true">May 10<span>th</span>, 2012</time>
        
           | <a href="/blog/tech/using-github-behind-a-restrictive-firewall/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/using-github-behind-a-restrictive-firewall/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When working behind a restrictive firewall, which limits ssh connections you may be running into some of the following errors:</p>

<h2>Connection refused</h2>

<pre><code>git clone git@github.com:morganp/maruku_snippet.git
Cloning into maruku_snippet...
ssh: connect to host github.com port 22: Connection refused
fatal: The remote end hung up unexpectedly
</code></pre>

<h2>Bad Owner, Using .ssh/config</h2>

<pre><code>git clone git@github.com:morganp/maruku_snippet.git
Cloning into maruku_snippet...
Bad owner or permissions on /users/mprior/.ssh/config
fatal: The remote end hung up unexpectedly
</code></pre>

<h2>Not a Repository</h2>

<pre><code>$ git pull https://morganp@github.com/morganp/maruku_snippet.git
fatal: Not a git repository (or any parent up to mount parent /users)
Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).
</code></pre>

<h2>RPC failed</h2>

<pre><code>$ git clone https://morganp@github.com/morganp/maruku_snippet.git
Cloning into maruku_snippet...
error: RPC failed; result=22, HTTP code = 405
fatal: The remote end hung up unexpectedly
</code></pre>

<h2>Getting it Working</h2>

<p>Last time I ran into these issues I found I could clone as guest, changed <a href="&#109;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#x6d;&#111;&#114;&#x67;&#x61;&#110;&#x70;&#x40;&#x67;&#x69;&#116;&#x68;&#117;&#x62;&#x2e;&#x63;&#x6f;&#x6d;">&#109;&#111;&#114;&#103;&#97;&#110;&#112;&#x40;&#103;&#105;&#x74;&#x68;&#x75;&#x62;&#x2e;&#x63;&#111;&#x6d;</a> to just github.com. Pushing will then prompt for your github Username and password. Once cloned you can manually update the config file so you do not have to enter your username. Entering your password will still be required.</p>

<pre><code>$ git clone https://github.com/morganp/maruku_snippet.git
Cloning into maruku_snippet...
remote: Counting objects: 52, done.
remote: Compressing objects: 100% (38/38), done.
remote: Total 52 (delta 15), reused 43 (delta 10)
 Unpacking objects: 100% (52/52), done.
</code></pre>

<p>Modify .git/config back to :</p>

<pre><code>url = https://morganp@github.com/morganp/maruku_snippet.git
</code></pre>

<p><code>git push</code> will prompt for password via dialog box.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tech/ubuntu-formatting-a-3tb-drive/">Ubuntu, Formatting a 3TB Drive</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-03T21:34:20+01:00" pubdate data-updated="true">May 3<span>rd</span>, 2012</time>
        
           | <a href="/blog/tech/ubuntu-formatting-a-3tb-drive/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/tech/ubuntu-formatting-a-3tb-drive/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I started off following <a href="https://help.ubuntu.com/community/InstallingANewHardDrive">the ubuntu guide for installing a new drive</a>, which uses fdsik to create the partitions how ever after formatting and mounting I ran <code>df -h</code>:</p>

<pre><code>Filesystem      Size  Used Avail Use% Mounted on
/dev/sdb1       2.0T   28G  1.9T   2% /mnt/kryten/disk5
</code></pre>

<h2>Which is not 3TB</h2>

<p>I then found <a href="http://www.cyberciti.biz/tips/fdisk-unable-to-create-partition-greater-2tb.html">this article</a> which worked in the long run not sure if I typo&rsquo;d a command but similar to <a href="http://archlinuxarm.org/forum/viewtopic.php?t=1935&amp;p=10490">this other user</a> I had to run through the commands a second time for them to work.</p>

<p>To start with use <code>parted</code> instead of fdisk, this allows the gpt partition table that fdisk does not.</p>

<pre><code>(parted) mklabel gpt 
Warning: The existing disk label on /dev/sdb will be destroyed and all data on
this disk will be lost. Do you want to continue?
Yes/No? yes    
(parted) unit TB 
(parted) mkpart primary 0.00TB 3.00TB                                     
Warning: You requested a partition from 0.00TB to 3.00TB.                 
The closest location we can manage is 0.00TB to 0.00TB.
Is this still acceptable to you?
Yes/No? yes
</code></pre>

<p>basically after this point it showed up as a few KB after formatting, tried it again and it seemed to work much better.</p>

<pre><code>(parted) mklabel gpt                                                       
Warning: The existing disk label on /dev/sdb will be destroyed and all data on
this disk will be lost. Do you want to continue?
Yes/No? yes                                                               
(parted) unit TB                                                          
(parted) mkpart primary 0.00TB 3.00TB                                     
(parted) print                                                            
odel: Unknown (unknown)
Disk /dev/sdb1: 3001GB
Sector size (logical/physical): 512B/4096B
Partition Table: loop

Number  Start   End     Size    File system  Name     Flags
1      0.00TB  3.00TB  3.00TB               primary

(parted) quit                                                             
Information: You may need to update /etc/fstab.                           
</code></pre>

<h2>Format</h2>

<pre><code>$ sudo mkfs.ext4 /dev/sdb1
$sudo parted /dev/sdb1
(parted) print
Model: Unknown (unknown)
Disk /dev/sdb1: 3001GB 
Sector size (logical/physical): 512B/4096B
Partition Table: loop

Number  Start  End     Size    File system  Flags
1      0.00B  3001GB  3001GB  ext4
</code></pre>

<h2>Reduce Reserved Space</h2>

<p>By default 5% is reserved for the root to stop the driving becoming unusable when full, for data and not the main OS drive this does not matter too much, and 5% was decided when drives where much small. 5% of 3TB is 150 GB, way too much.  Turn this down to 1% with:</p>

<pre><code>sudo tune2fs -m 1 /dev/sdb1
</code></pre>

<h2>Mount </h2>

<pre><code>sudo mkdir /mnt/kryten/disk5 
sudo mount /dev/sdb1 /mnt/kryten/disk5
</code></pre>

<h2>Find UUID</h2>

<pre><code>$ sudo blkid
/dev/sda1: UUID="c41cba49-bd3a-41d7-961c-b4ad45d48ed1" TYPE="ext4" 
/dev/sdb1: UUID="d822c6af-9802-4d00-8de8-61f1653a854a" TYPE="ext4" 
/dev/sdc1: UUID="59a61ceb-fee3-460a-97c5-e9f115776daf" TYPE="ext4" 
/dev/sdc5: UUID="80f9c384-9a5a-4563-921a-5c25628e1b2e" TYPE="swap"
</code></pre>

<h2>Update /etc/fstab </h2>

<pre><code>$sudo vim /etc/fstab

#/dev/sdb1 3TB drive replacing 1.5TB old UUID Below
UUID=d822c6af-9802-4d00-8de8-61f1653a854a     /mnt/kryten/disk4 ext4 rw,auto,user,exec,async,errors=remount-ro 0 1
#UUID=c41cba49-bd3a-41d7-961c-b4ad45d48ed1    /mnt/kryten/disk4 ext4 rw,auto,user,exec,async,errors=remount-ro 0 1
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/photography/camera-apetures-/">Camera Apetures</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-28T22:29:47+01:00" pubdate data-updated="true">Apr 28<span>th</span>, 2012</time>
        
           | <a href="/blog/photography/camera-apetures-/#disqus_thread"
             data-disqus-identifier="http://morganp.github.io/blog/photography/camera-apetures-/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The camera aperture is how far the iris is kept open during the exposure. A wide aperture, large opening lets in more light so can have a faster shutter speed but also has a lower depth of field (DOF). That is less of the image will be in sharp focus.</p>

<p>Lens are sold based on there largest aperture, f2.8, f4 etc but how do these relate to each other? Stops are the often used measurement of photographic equipment. Here if a lens is one stop faster it will have an aperture wide enough to half the exposure time.</p>

<p>From f1 the whole stops are:</p>

<table>
<thead>
<tr>
<th></th>
<th align="center"> 1 </th>
<th align="center"> 2 </th>
<th align="center"> 3 </th>
<th align="center"> 4 </th>
<th align="center"> 5 </th>
<th align="center"> 6 </th>
<th align="center"> 7 </th>
<th> </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center"> f1.0 </td>
<td align="center"> f1.4 </td>
<td align="center"> f2.0 </td>
<td align="center"> f2.8 </td>
<td align="center"> f4.0 </td>
<td align="center"> f5.6 </td>
<td align="center"> f8.0 </td>
<td></td>
</tr>
</tbody>
</table>


<p>There are a few lenses which are rated as f4-5.6 which we can see represents a full stop, which means at it maximum zoom the lens will be even slower. For a fixed aperture the lens would be slower as we increase focal length (zoom in) because we take the centre portion of the light, here we also suffer from a smaller aperture.</p>

<h2>Area</h2>

<p>The area of the size of the aperture changes by square root of 2 (about 1.41) .  <a href="http://en.wikipedia.org/wiki/Aperture#Aperture_area">Wikipedia</a> has an equation which can be used to calculate the amount (area) of light collected from a lens for a given focal length and aperture.</p>

<pre><code>f = focal length, eg 50mm
n = f-stop, eg 5.6
area = pi *( f/(2*n) )^2
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/15/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/13/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/cooking'>Cooking (11)</a></li><li><a href='/blog/engineering'>Engineering (15)</a></li><li><a href='/blog/garden'>Garden (11)</a></li><li><a href='/blog/home'>Home (4)</a></li><li><a href='/blog/photography'>Photography (31)</a></li><li><a href='/blog/tech'>Tech (223)</a></li></ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/tech/ruby-iterate-over-lines-in-a-string/">Ruby Iterate Over Lines in a String</a>
      </li>
    
      <li class="post">
        <a href="/blog/tech/macbook-keyboard-light-not-working/">Macbook Keyboard Light Not Working</a>
      </li>
    
      <li class="post">
        <a href="/blog/tech/git-tag-and-push-to-github/">Git Tag and Push to Github</a>
      </li>
    
      <li class="post">
        <a href="/blog/engineering/beyond-the-lsb/">Beyond the LSB</a>
      </li>
    
      <li class="post">
        <a href="/blog/cooking/spicy-choclate-cake/">Spicy Choclate Cake</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/morganp">@morganp</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'morganp',
            count: 1,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Morgan Prior -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morganpgithubio';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
