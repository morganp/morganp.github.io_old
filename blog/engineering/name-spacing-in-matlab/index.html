
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Name Spacing in Matlab - RockPaperScissors</title>
  <meta name="author" content="Morgan Prior">

  
  <meta name="description" content="A typical work flow in Matlab involves a folder filled with scripts and functions.
Over time this folder grows until it becomes completely &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lizard-spock.co.uk/blog/engineering/name-spacing-in-matlab">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="RockPaperScissors" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47010631-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">RockPaperScissors</a></h1>
  
    <h2>LizardSpock</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lizard-spock.co.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Latest</a></li>
  <li><a href="/blog/archives">All</a></li>
  <li><a href="/tag">Tags</a></li>
  <li><a href="/license">License</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Name Spacing in Matlab</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-12T20:51:19+01:00" pubdate data-updated="true">Sep 12<span>th</span>, 2013</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://lizard-spock.co.uk">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>A typical work flow in Matlab involves a folder filled with scripts and functions.
Over time this folder grows until it becomes completely unmaintainable and
dependencies between scripts can not be tracked.</p>

<p>The next step is to group the related functions into folders in maintainable
collections. They can then be added to the scripts that require them by adding to
Matlabs search path via:</p>

<pre><code>addpath('../collection_of_functions_a/');
addpath('../collection_of_functions_b/');
</code></pre>

<p>The main issue I have with this is that of name spacing when working with third
party functions or developing your own it would be easy to override other functions
even internal ones. For toolbox developers it is hard to known all the function names
from matlabs toolboxes. After a name collision which one is picked up is
dependent on the path order. Other languages often use name spacing to avoid these
name conflicts.</p>

<p>Since MATLAB Version 7.6 <a href="http://www.mathworks.co.uk/help/matlab/matlab_oop/scoping-classes-with-packages.html">Packages</a> have been available for just this, adding
name spacing to classes, but it also works for raw (plain) functions.</p>

<p>To create a package, as before place functions in a folder, start the folder name
with a <code>+</code>, ie <code>+mypkg</code> then you have created package mypkg.</p>

<p>To use the package functions in a script they must be <a href="http://www.mathworks.co.uk/help/matlab/ref/import.html">imported</a>.</p>

<pre><code>import mypkg.*

%% call function_x
a = mypkg.function_x() ;
</code></pre>

<p>As packages themselves can not be on the path you have to <a href="http://www.mathworks.co.uk/help/matlab/matlab_env/files-and-folders-that-matlab-accesses.html">make the parent folder accessible</a>.</p>

<p>If you have a folder containing a lot of packages then this is quite useful.
Add one folder to path then import the required packages.</p>

<p>If the packages are being independently maintained then it is likely that they
all have separate hierarchy (I think this is good from a development point of
view). To avoid adding unnecessary items to your search path I would recommend a
hierarchy of:</p>

<pre><code>Top_level_package
  function
  +my_pkg
    function_x.m
    function_y.m
  test
    run_test_function_x.m
    run_test_function_y.m
</code></pre>

<p>run_test_function_x.m :</p>

<pre><code>addpath('../function/');
import my_pkg.function_x

%% test function_x
% ...
</code></pre>

<p>The downside of this is that every package needs an <code>addpath</code> and <code>import</code>.
Which you will have unless all your packages live under one parent directory.</p>

<p>An excerpt from <a href="http://www.mathworks.co.uk/help/matlab/matlab_env/what-is-the-matlab-search-path.html">What is in the Matlab Search Path</a>:</p>

<blockquote><p>The userpath folder is first on the search path, above the folders supplied by
MathWorks. By default, MATLAB adds the userpath folder to the search path at
startup. Therefore, the userpath is convenient for storing files where MATLAB
can access them.</p>

<p>The userpath consists of a primary path, and on Macintosh and UNIXÂ® platforms,
it also contains a secondary path. The primary path is only one folder, but the
secondary path can contain multiple folders.</p></blockquote>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Morgan Prior</span></span>

      








  


<time datetime="2013-09-12T20:51:19+01:00" pubdate data-updated="true">Sep 12<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/engineering/'>Engineering</a>
  
</span>


      

<span class="tags">
  
    <a class='tag' href='/tag/matlab/'>Matlab</a>, <a class='tag' href='/tag/programming/'>Programming</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://lizard-spock.co.uk/blog/engineering/name-spacing-in-matlab/" data-via="" data-counturl="http://lizard-spock.co.uk/blog/engineering/name-spacing-in-matlab/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/photography/photographing-stars-avoiding-star-trails/" title="Previous Post: Photographing stars avoiding star trails">&laquo; Photographing stars avoiding star trails</a>
      
      
        <a class="basic-alignment right" href="/blog/garden/gardener-c14e/" title="Next Post: Gardener C14e">Gardener C14e &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/cooking'>Cooking (11)</a></li><li><a href='/blog/engineering'>Engineering (25)</a></li><li><a href='/blog/garden'>Garden (14)</a></li><li><a href='/blog/home'>Home (5)</a></li><li><a href='/blog/outdoor'>Outdoor (1)</a></li><li><a href='/blog/photography'>Photography (36)</a></li><li><a href='/blog/tech'>Tech (233)</a></li></ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/engineering/matlab-listing-field-name-values-of-a-struct/">Matlab: Listing Field Name Values of a Struct</a>
      </li>
    
      <li class="post">
        <a href="/blog/photography/fstop-icu-strobies/">Fstop ICU Strobies</a>
      </li>
    
      <li class="post">
        <a href="/blog/home/kettlebell-rack/">Kettlebell Rack</a>
      </li>
    
      <li class="post">
        <a href="/blog/engineering/matlab-toolboxes-with-absolute-path-setup/">Matlab Toolboxes with Absolute Path Setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/engineering/matlab-array-content-check/">Matlab: Array Content Check</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/morganp">@morganp</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'morganp',
            count: 1,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Morgan Prior -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morganpgithubio';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://lizard-spock.co.uk/blog/engineering/name-spacing-in-matlab/';
        var disqus_url = 'http://lizard-spock.co.uk/blog/engineering/name-spacing-in-matlab/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
